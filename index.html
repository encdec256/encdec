<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern AES Encryption Tool</title>
    <style>
        /* Reset Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f9;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 600px;
            margin: 40px auto;
            padding: 20px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #4A90E2;
            margin-bottom: 20px;
        }

        form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        label {
            font-weight: bold;
            color: #555;
        }

        textarea, input {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            width: 100%;
            transition: border-color 0.3s ease;
        }

        textarea:focus, input:focus {
            border-color: #4A90E2;
            outline: none;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .radio-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .radio-group input {
            margin-right: 5px;
        }

        button {
            padding: 12px;
            background: #4A90E2;
            color: #fff;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        button:hover {
            background: #357ABD;
        }

        #output {
            margin-top: 20px;
            padding: 15px;
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            word-wrap: break-word;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>AES Encryption Tool</h1>
        <form id="aesForm">
            <label for="encryptionText">Encryption Text</label>
            <textarea id="encryptionText" rows="4" placeholder="Enter text to encrypt..." required></textarea>
            
            <label for="secretKey">Secret Key</label>
            <input type="text" id="secretKey" placeholder="Enter secret key..." required>

            <div class="options">
                <label>Encryption Key Size</label>
                <div class="radio-group">
                    <label><input type="radio" name="keySize" value="128" checked> 128 Bits</label>
                    <label><input type="radio" name="keySize" value="192"> 192 Bits</label>
                    <label><input type="radio" name="keySize" value="256"> 256 Bits</label>
                </div>
            </div>

            <div class="options">
                <label>Encryption Mode</label>
                <div class="radio-group">
                    <label><input type="radio" name="mode" value="CBC" checked> CBC</label>
                    <label><input type="radio" name="mode" value="ECB"> ECB</label>
                </div>
            </div>

            <label for="iv">IV (optional)</label>
            <input type="text" id="iv" placeholder="Initialization Vector (optional)">

            <div class="options">
                <label>Output Format</label>
                <div class="radio-group">
                    <label><input type="radio" name="format" value="Base64" checked> Base64</label>
                    <label><input type="radio" name="format" value="HEX"> HEX</label>
                </div>
            </div>

            <button type="button" id="encryptButton">Encrypt</button>
        </form>
        <div id="output"></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script>
        document.getElementById("encryptButton").addEventListener("click", function () {
            const text = document.getElementById("encryptionText").value;
            const key = document.getElementById("secretKey").value;
            const keySize = document.querySelector('input[name="keySize"]:checked').value;
            const mode = document.querySelector('input[name="mode"]:checked').value;
            const iv = document.getElementById("iv").value || null;
            const format = document.querySelector('input[name="format"]:checked').value;

            if (!text || !key) {
                alert("Please enter both the encryption text and secret key.");
                return;
            }

            // AES Encryption Logic
            try {
                const encrypted = aesEncrypt(text, key, keySize, mode, iv, format);
                document.getElementById("output").innerText = `Encrypted Text: ${encrypted}`;
            } catch (error) {
                document.getElementById("output").innerText = `Error: ${error.message}`;
            }
        });

        function aesEncrypt(text, key, keySize, mode, iv, format) {
            const CryptoJS = window.CryptoJS;

            if (!CryptoJS) throw new Error("CryptoJS library is not loaded.");

            const keyBytes = CryptoJS.enc.Utf8.parse(key);
            const ivBytes = iv ? CryptoJS.enc.Utf8.parse(iv) : null;
            const options = {
                mode: mode === "CBC" ? CryptoJS.mode.CBC : CryptoJS.mode.ECB,
                padding: CryptoJS.pad.Pkcs7,
                iv: ivBytes,
            };

            const encrypted = CryptoJS.AES.encrypt(text, keyBytes, options);
            return format === "Base64" ? encrypted.toString() : encrypted.ciphertext.toString(CryptoJS.enc.Hex);
        }
    </script>
</body>
</html>
